import{_ as x,E as _,a as F,b as w}from"./BOLiGEAV.js";import{_ as N}from"./jrWXBNtN.js";import{a as O,s as A,r,i as T,c as U,h as o,w as f,b as I,u as e,F as J,o as k,j as y,_ as B}from"./DzGl7Ao1.js";import{g as D,b,e as M}from"./Cvzu3FzZ.js";import{useDashboard as j}from"./D6__T7yY.js";import{useEnvironmentStore as q}from"./DIBqdywy.js";import"./BYOBL_-y.js";const X={class:"d-flex gap-2 pie-chart__wrapper wrap"},$=O({__name:"ThePiaChartRelative",setup(z){const{getPieChartData:E}=j(),P=q(),{dataSetsSeriesForPieRelativeChart:L,structureSeriesForPieRelativeChart:R}=A(P),{readEnvironmentPieRelativeChart:V}=P,u=r("EN_ATM_CO2E_XLULUCF"),d=r(["AUS"]),h=r({labels:[],datasets:[]}),v=r({labels:[],datasets:[]}),C=r({labels:[],datasets:[]}),n=r(!0),m=async()=>{const g={detail:"full",startPeriod:"2020-01-01",endPeriod:"2020-12-31",dimensionAtObservation:"TIME_PERIOD"};try{n.value=!0,await V(u.value,d.value.join("+"),g)}finally{n.value=!1}const a=E(L.value),l=JSON.parse(JSON.stringify(a)),c=JSON.parse(JSON.stringify(a)),s=D(R.value),i=b.filter(({label:t})=>s==null?void 0:s.includes(t));l[0].data=a[0].data.map((t,p)=>t/i[p].population[2020]),c[0].data=a[0].data.map((t,p)=>t/i[p].area[2020]),h.value={datasets:a,labels:s},v.value={datasets:l,labels:s},C.value={datasets:c,labels:s}};return T(async()=>{await m()}),(g,a)=>{const l=F,c=w,s=x,i=N;return k(),U(J,null,[o(s,{class:"d-flex wrap gap-1 m-b-1"},{default:f(()=>[o(c,null,{default:f(()=>[o(l,{modelValue:e(u),"onUpdate:modelValue":a[0]||(a[0]=t=>y(u)?u.value=t:null),options:e(M),placeholder:"Elements",filterable:"",isLoading:e(n),onChange:m},null,8,["modelValue","options","isLoading"])]),_:1}),o(c,null,{default:f(()=>[o(l,{modelValue:e(d),"onUpdate:modelValue":a[1]||(a[1]=t=>y(d)?d.value=t:null),options:e(b),filterable:"",placeholder:"Countries",multiple:"",isLoading:e(n),onChange:m},null,8,["modelValue","options","isLoading"])]),_:1})]),_:1}),I("div",X,[o(i,{class:"pie-chart",data:e(h),type:e(_).Pie,isLoading:e(n),caption:"Picture 3. Emissions from various countries, measured in tons in the 2020."},null,8,["data","type","isLoading"]),o(i,{class:"pie-chart",data:e(v),type:e(_).Pie,isLoading:e(n),caption:"Picture 4.Emissions from various countries, measured in tons per person in the 2020."},null,8,["data","type","isLoading"]),o(i,{class:"pie-chart",data:e(C),type:e(_).Pie,isLoading:e(n),caption:"Picture 5. Emissions from various countries, measured in tons per square kilometer in the year 2020."},null,8,["data","type","isLoading"])])],64)}}}),ee=B($,[["__scopeId","data-v-e959d933"]]);export{ee as default};
