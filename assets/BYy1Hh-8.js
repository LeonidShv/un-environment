import{_ as x,E as _,a as F,b as N}from"./C8W2jNIG.js";import{_ as O}from"./BxLHS3qs.js";import{a as w,s as A,r,g as T,c as U,e as o,w as f,b as I,u as e,F as J,o as k,i as b,_ as B}from"./BQLpEyjH.js";import{g as D,b as y,e as M}from"./rRLL8Zh2.js";import{useDashboard as j}from"./D794O-pC.js";import{useEnvironmentStore as q}from"./DxOi8vPw.js";import"./xeIVn8o2.js";const X={class:"d-flex gap-2 pie-chart__wrapper wrap"},$=w({__name:"ThePiaChartRelative",setup(z){const{getPieChartData:E}=j(),P=q(),{dataSetsSeriesForPieRelativeChart:L,structureSeriesForPieRelativeChart:R}=A(P),{readEnvironmentPieRelativeChart:V}=P,u=r("EN_ATM_CO2E_XLULUCF"),d=r(["AUS"]),v=r({labels:[],datasets:[]}),h=r({labels:[],datasets:[]}),C=r({labels:[],datasets:[]}),n=r(!0),m=async()=>{const g={detail:"full",startPeriod:"2020-01-01",endPeriod:"2020-12-31",dimensionAtObservation:"TIME_PERIOD"};try{n.value=!0,await V(u.value,d.value.join("+"),g)}finally{n.value=!1}const a=E(L.value),l=JSON.parse(JSON.stringify(a)),c=JSON.parse(JSON.stringify(a)),s=D(R.value),i=y.filter(({label:t})=>s==null?void 0:s.includes(t));l[0].data=a[0].data.map((t,p)=>t/i[p].population[2020]),c[0].data=a[0].data.map((t,p)=>t/i[p].area[2020]),v.value={datasets:a,labels:s},h.value={datasets:l,labels:s},C.value={datasets:c,labels:s}};return T(async()=>{await m()}),(g,a)=>{const l=F,c=N,s=x,i=O;return k(),U(J,null,[o(s,{class:"d-flex gap-1 m-b-1"},{default:f(()=>[o(c,null,{default:f(()=>[o(l,{modelValue:e(u),"onUpdate:modelValue":a[0]||(a[0]=t=>b(u)?u.value=t:null),options:e(M),placeholder:"Elements",filterable:"",isLoading:e(n),onChange:m},null,8,["modelValue","options","isLoading"])]),_:1}),o(c,null,{default:f(()=>[o(l,{modelValue:e(d),"onUpdate:modelValue":a[1]||(a[1]=t=>b(d)?d.value=t:null),options:e(y),filterable:"",placeholder:"Countries",multiple:"",isLoading:e(n),onChange:m},null,8,["modelValue","options","isLoading"])]),_:1})]),_:1}),I("div",X,[o(i,{class:"pie-chart",data:e(v),type:e(_).Pie,isLoading:e(n),caption:"Picture 3. Emissions from various countries, measured in tons in the 2020."},null,8,["data","type","isLoading"]),o(i,{class:"pie-chart",data:e(h),type:e(_).Pie,isLoading:e(n),caption:"Picture 4.Emissions from various countries, measured in tons per person in the 2020."},null,8,["data","type","isLoading"]),o(i,{class:"pie-chart",data:e(C),type:e(_).Pie,isLoading:e(n),caption:"Picture 5. Emissions from various countries, measured in tons per square kilometer in the year 2020."},null,8,["data","type","isLoading"])])],64)}}}),ee=B($,[["__scopeId","data-v-3fe126ba"]]);export{ee as default};
